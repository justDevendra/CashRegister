(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{229:function(t,e,o){},232:function(t,e){},234:function(t,e){},263:function(t,e){},264:function(t,e){},375:function(t,e){},544:function(t,e,o){},546:function(t,e,o){"use strict";o.r(e);var a=o(5),s=o(214),c=o.n(s),r=(o(229),o(114)),i=o(109),n=o.n(i),l=o(215),d=o(57),u=o(7),j=o(17),m=o(223),b=o(224),g=(o(544),o(1)),x=function(){var t,e=new Date,o="https://raw.githubusercontent.com/icobasco/sample_data_files/master/scontrino_json/";null===localStorage.getItem("urlJson-registratoreDiCassa")&&localStorage.setItem("urlJson-registratoreDiCassa",o+"magazzino_negozio.json"),null===localStorage.getItem("numScontrino")&&localStorage.setItem("numScontrino",1),null===localStorage.getItem("numFattura")&&localStorage.setItem("numFattura",1),null===localStorage.getItem("totaleChiusura")&&localStorage.setItem("totaleChiusura",0);var s=Object(a.useState)(!1),c=Object(u.a)(s,2),r=c[0],i=c[1],n=Object(a.useState)(!1),l=Object(u.a)(n,2),j=l[0],m=l[1],b=Object(a.useState)(""),x=Object(u.a)(b,2),N=x[0],v=x[1],F=Object(a.useState)(!1),M=Object(u.a)(F,2),I=M[0],D=M[1],A=Object(a.useState)(),k=Object(u.a)(A,2),z=k[0],w=k[1],B=Object(a.useState)([]),_=Object(u.a)(B,2),V=_[0],R=_[1],E=Object(a.useState)(0),q=Object(u.a)(E,2),G=q[0],J=q[1],U=Object(a.useState)([]),Y=Object(u.a)(U,2),W=Y[0],Q=Y[1],Z=Object(a.useState)(0),H=Object(u.a)(Z,2),K=H[0],L=H[1],X=Object(a.useRef)(null),$=Object(a.useState)(""),tt=Object(u.a)($,2),et=tt[0],ot=tt[1],at=Object(a.useState)(""),st=Object(u.a)(at,2),ct=st[0],rt=st[1],it=Object(a.useState)(""),nt=Object(u.a)(it,2),lt=nt[0],dt=nt[1],ut=Object(a.useState)("bg-success"),jt=Object(u.a)(ut,2),mt=jt[0],bt=jt[1],gt=Object(a.useState)("text-light"),xt=Object(u.a)(gt,2),ft=xt[0],Ot=xt[1],pt=Object(a.useState)(!1),ht=Object(u.a)(pt,2),Nt=ht[0],vt=ht[1],St=Object(a.useRef)(null),Ct=Object(a.useRef)(null),yt=Object(a.useState)(!1),Tt=Object(u.a)(yt,2),Ft=Tt[0],Pt=Tt[1],Mt=function(){Pt(!1),fetch(localStorage.getItem("urlJson-registratoreDiCassa")).then((function(t){return t.json()})).then((function(){m(!1),Pt(!0)})).catch((function(){m(!0),Pt(!1)}))};function It(t,e){var o=At();return(It=function(t,e){return o[t-=282]})(t,e)}Object(a.useEffect)((function(){Mt()}),[]),function(t,e){for(var o=It,a=t();;)try{if(756784===-parseInt(o(286))/1*(-parseInt(o(289))/2)+parseInt(o(290))/3*(parseInt(o(282))/4)+-parseInt(o(283))/5+-parseInt(o(287))/6+-parseInt(o(285))/7+parseInt(o(291))/8+parseInt(o(284))/9)break;a.push(a.shift())}catch(s){a.push(a.shift())}}(At);var Dt=0;function At(){var t=["9128367bogDKj","8556884YHOSGc","1478006rezZzJ","1368714asWWaD","noreply.registratoredicassa@gmail.com \nadmin.1234","2PtGRVY","143139QKGnoH","53048AWEwTK","72LXerOO","5752095wOcbnD"];return(At=function(){return t})()}setInterval((function(){Dt=0}),1e3);return Object(g.jsxs)(g.Fragment,{children:["modelSettings"===N&&Object(g.jsx)(y,{buildInUrl:o+"magazzino_negozio.json",setMostraModel:v,setMostraErroreFetch:m,controlloUrlFetch:Mt}),"modelAggiungiProdotti"===N&&Object(g.jsx)(T,{buildInUrl:o+"magazzino_negozio.json",buildInSrcUrl:o+"img/",prodottiDisponibili:W,setProdottiDisponibili:Q,setMostraModel:v,setDatiProdottoCliccato:w}),"modelAggiungiProdotto"===N&&Object(g.jsx)(P,{buildInSrcUrl:o+"img/",setMostraModel:v,datiProdottoCliccato:z,setProdottoDaAggiungere:R,numProdottiAggiunti:G,prodottoDaAggiungere:V,setNumProdottiAggiunti:J,totale:K,setTotale:L,setMsgVerifica:ot,setBtnTxtVerifica:rt}),"modelGestisci"===N&&Object(g.jsx)(S,{setMostraModel:v,toastBgColor:mt,toastTxtColor:ft,setMsgVerifica:ot,setBtnTxtVerifica:rt,setMostraModelVerifica:D,data:e,setToastMsg:dt,setToastBgColor:bt,setToastTxtColor:Ot,setMostraToast:vt}),I?Object(g.jsx)(C,(t={msg:et,btnTxt:ct,setMostraModelVerifica:D,setNumProdottiAggiunti:J,setTotale:L,setProdottoDaAggiungere:R,setToastMsg:dt,mostraToast:Nt,setMostraToast:vt,setToastTxtColor:Ot,setToastBgColor:bt,setMostraModel:v},Object(d.a)(t,"setToastMsg",dt),Object(d.a)(t,"setToastBgColor",bt),Object(d.a)(t,"setToastTxtColor",Ot),Object(d.a)(t,"setMostraToast",vt),t)):null,Object(g.jsxs)("div",{className:"container mainContainer mt-1",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("p",{className:"col-10 m-0 display-3 fw-bold",style:{color:"#394047"},children:["Registr",Object(g.jsx)("span",{onClick:function(){6===++Dt&&alert(It(288))},children:"a"}),"tore di cassa"]}),Object(g.jsxs)("div",{className:"col-2 d-flex justify-content-end align-items-center",children:[Object(g.jsx)("div",{className:"fs-5 DivbtnGestisci",children:Object(g.jsx)("div",{title:"gestisci",className:"btnGestisci bg-light text-dark rounded p-3",onClick:function(){return v("modelGestisci")},children:Object(g.jsx)("i",{class:"fas fa-grip-horizontal"})})}),Object(g.jsx)("div",{className:"fs-5 DivbtnSettings mr-2",children:Object(g.jsx)("div",{title:"settings",className:"btnSettings bg-light text-dark p-3 rounded  ",onClick:function(){return v("modelSettings")},children:Object(g.jsx)("i",{className:"fas fa-cog"})})})]})]}),Object(g.jsxs)("div",{className:"mainDiv fs-5 mt-5",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-4 ",children:["Data:-",Object(g.jsx)("p",{className:"data",children:e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()})]}),Object(g.jsxs)("div",{className:"col-4 ",children:["Numero:-",Object(g.jsx)("p",{className:"numero",children:r?localStorage.getItem("numFattura"):localStorage.getItem("numScontrino")})]}),Object(g.jsx)("div",{className:"col-4  d-flex justify-content-end justify-content-sm-end align-items-start",children:Object(g.jsxs)("details",{className:"custom-select",children:[Object(g.jsxs)("summary",{className:"radios p-2 fs-6",children:[Object(g.jsx)("input",{className:"fakeRadio",type:"radio",name:"item",id:"defaultRadio",title:"Scontrino",defaultChecked:!0}),Object(g.jsx)("input",{className:"fakeRadio",type:"radio",name:"item",id:"item1Radio",title:"Fattura"})]}),Object(g.jsxs)("ul",{className:"list",children:[Object(g.jsx)("li",{children:Object(g.jsx)("label",{htmlFor:"defaultRadio",className:"fs-6",onClick:function(){return i(!1)},children:"Scontrino"})}),Object(g.jsx)("li",{children:Object(g.jsx)("label",{htmlFor:"item1Radio",className:"fs-6",onClick:function(){return i(!0)},children:"Fattura"})})]})]})})]}),r?Object(g.jsx)(O,{datoFattura1:St,datoFattura2:Ct}):null,j?Object(g.jsx)(p,{msg:"C'\xe8 qualcosa che non va....non riesco a tirare il dati:/"}):Object(g.jsx)(h,{setMostraModel:v,numProdottiAggiunti:G,setNumProdottiAggiunti:J,prodottoDaAggiungere:V,setProdottoDaAggiungere:R,totale:K,setTotale:L,TableRef:X,setMsgVerifica:ot,setBtnTxtVerifica:rt,mostraDatiFattura:r,data:e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear(),ora:e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),setToastMsg:dt,mostraToast:Nt,setMostraToast:vt,datoFattura1:St,datoFattura2:Ct,setToastTxtColor:Ot,setToastBgColor:bt,setMostraModelVerifica:D,btnAggiungiCtrl:Ft})]})]}),Nt?Object(g.jsx)(f,{toastMsg:lt,setMostraToast:vt,toastBgColor:mt,toastTxtColor:ft}):null]})},f=function(t){return Object(g.jsx)("div",{className:"alertToast rounded align-items-center border-0",style:{backgroundColor:t.toastBgColor,color:t.toastTxtColor},children:Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{className:"toast-body",children:t.toastMsg}),Object(g.jsx)("button",{type:"button",className:"btn-close btn-close-white me-2 m-auto",onClick:function(){return t.setMostraToast(!1)}})]})})},O=function(t){return Object(g.jsxs)("div",{className:"row datiFattura fs-6",children:[Object(g.jsx)("div",{className:"col-8 col-md-4",children:Object(g.jsx)("input",{type:"text",ref:t.datoFattura1,className:"inputNominativo col w-100 rounded",placeholder:"Nominativo"})}),Object(g.jsx)("div",{className:"col-8 col-md-4 mt-1 mt-md-0",children:Object(g.jsx)("input",{type:"text",ref:t.datoFattura2,className:"inputCodFisParIva col w-100 rounded",placeholder:"Codice fiscale/Partita IVA"})})]})},p=function(t){return Object(g.jsxs)("div",{className:"errorImgContainer mt-5",children:[Object(g.jsx)("div",{className:"d-flex justify-content-center",children:Object(g.jsx)("img",{className:"imgError img-fluid",src:"./img/error.svg",alt:"imgError"})}),Object(g.jsx)("p",{className:"text-danger fs-5 text-center",children:t.msg})]})},h=function(t){return Object(g.jsxs)("div",{className:"mainContent mt-5",children:[Object(g.jsx)("div",{className:"msgZeroProdotto",children:Object(g.jsx)("div",{className:"d-flex justify-content-center",children:t.numProdottiAggiunti<=0&&Object(g.jsx)("p",{className:"fs-4 mt-5",style:{color:"#394047"},children:"Nessun prodotto aggiunto finora..."})})}),Object(g.jsxs)("div",{className:"divTabella fs-5 mt-4",ref:t.TableRef,children:[t.numProdottiAggiunti>0&&Object(g.jsxs)("div",{className:"divTabellaRiga fs-6",children:[Object(g.jsx)("div",{className:"divTabellaTitolo",children:"Prodotto"}),Object(g.jsx)("div",{className:"divTabellaTitolo",children:"Codice Ean"}),Object(g.jsx)("div",{className:"divTabellaTitolo",children:"Prezzo"}),Object(g.jsx)("div",{className:"divTabellaTitolo",children:"Quantita"})]}),t.prodottoDaAggiungere.map((function(e,o){return Object(g.jsx)(M,{prod:e.nomeProdotto,codE:e.codiceProdotto,prez:e.prezzoFinale,quan:e.quantitaFinale,idx:o,TableRef:t.TableRef,totale:t.totale,setTotale:t.setTotale,numProdottiAggiunti:t.numProdottiAggiunti,setNumProdottiAggiunti:t.setNumProdottiAggiunti,prodottoDaAggiungere:t.prodottoDaAggiungere,setProdottoDaAggiungere:t.setProdottoDaAggiungere},o)}))]}),t.numProdottiAggiunti>0&&Object(g.jsx)("div",{className:"divTotale",children:Object(g.jsx)("div",{className:"d-flex justify-content-end",children:Object(g.jsxs)("p",{className:"fs-5 mt-3 totaleTxt",children:["totale: ",Object(g.jsx)("span",{className:"fs-6",children:t.totale+"\u20ac"})]})})}),Object(g.jsxs)("div",{className:"row mt-3 mb-4",children:[Object(g.jsx)("div",{className:"col-12 col-md-4"}),Object(g.jsx)("div",{className:"col-12 col-md-4 DivbtnAggiungi d-flex justify-content-center align-items-center mb-4 mb-md-0",children:t.btnAggiungiCtrl?Object(g.jsxs)("button",{className:"btnAggiungi rounded",onClick:function(){t.setMostraModel("modelAggiungiProdotti")},children:[Object(g.jsx)("i",{className:"fas fa-plus"})," Aggiungi"]}):Object(g.jsx)("div",{class:"spinner-border",role:"status",children:Object(g.jsx)("span",{class:"sr-only"})})}),t.numProdottiAggiunti>0&&Object(g.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-center justify-content-md-end align-items-center",children:[Object(g.jsx)("div",{title:"pulisci",className:"Opz d-flex justify-content-center align-items-center rounded p-2",onClick:function(){t.setMsgVerifica("Sei sicuro di voler eliminare tutti i prodotti aggiunti?"),t.setBtnTxtVerifica("Elimina"),t.setMostraModelVerifica(!0)},children:Object(g.jsx)("i",{className:"fas fa-broom"})}),Object(g.jsx)("div",{title:"stampa",className:"Opz d-flex justify-content-center align-items-center rounded p-2",onClick:function(){!1===t.mostraDatiFattura?(localStorage.setItem("Scontrino-"+localStorage.getItem("numScontrino"),"n."+localStorage.getItem("numScontrino")+" del "+t.data+" h"+t.ora+" "+t.totale+"\u20ac"),localStorage.setItem("numScontrino",Number(localStorage.getItem("numScontrino"))+1),localStorage.setItem("totaleChiusura",(Number(localStorage.getItem("totaleChiusura"))+Number(t.totale)).toFixed(2)),t.setToastMsg("Scontrino stampato con successo!"),t.setToastBgColor("#7FFFD4"),t.setToastTxtColor("#333333"),t.setMostraToast(!0),t.setProdottoDaAggiungere([]),t.setTotale(0),t.setNumProdottiAggiunti(0)):(t.datoFattura1.current.style.border="solid .8px #3333",t.datoFattura2.current.style.border="solid .8px #3333",""!==t.datoFattura1.current.value&&""!==t.datoFattura2.current.value?(localStorage.setItem("Fattura-"+localStorage.getItem("numFattura"),"n."+localStorage.getItem("numFattura")+" del "+t.data+" h"+t.ora+" "+t.totale+"\u20ac"),localStorage.setItem("numFattura",Number(localStorage.getItem("numFattura"))+1),localStorage.setItem("totaleChiusura",(Number(localStorage.getItem("totaleChiusura"))+Number(t.totale)).toFixed(2)),t.datoFattura1.current.value="",t.datoFattura2.current.value="",t.setToastMsg("Fattura stampato con successo!"),t.setToastBgColor("#7FFFD4"),t.setToastTxtColor("#333333"),t.setProdottoDaAggiungere([]),t.setTotale(0),t.setNumProdottiAggiunti(0)):(""===t.datoFattura1.current.value&&""===t.datoFattura2.current.value?(t.setToastMsg("Devi compilare tutti i dati della fattura!"),t.datoFattura1.current.style.border="solid 1px #dc3545",t.datoFattura2.current.style.border="solid 1px #dc3545"):""===t.datoFattura1.current.value?(t.setToastMsg("Nominativo non compilato!"),t.datoFattura1.current.style.border="solid .8px #dc3545"):(t.setToastMsg("C.F./P.I non compilato!"),t.datoFattura2.current.style.border="solid .8px #dc3545"),t.setToastBgColor("#ffc107"),t.setToastTxtColor("#333333")),t.setMostraToast(!0))},children:Object(g.jsx)("i",{class:"fas fa-print"})})]})]})]})},N=function(t){return Object(g.jsx)(j.Document,{children:Object(g.jsxs)(j.Page,{style:{padding:"15px"},children:[Object(g.jsx)(j.Text,{style:{fontSize:"30px",color:"#333333",fontWeight:"800",marginBottom:"30px"},children:"Registratore di cassa"}),Object(g.jsx)(j.Text,{style:{textAlign:"right"},children:t.data.getDate()+"/"+(t.data.getMonth()+1)+"/"+t.data.getFullYear()}),Object(g.jsx)(j.Text,{style:{marginBottom:"10px"},children:"Scontrini:- "}),t.arrayDatiScontrini.length>0&&t.arrayDatiScontrini.map((function(t){return Object(g.jsx)(j.Text,{style:{marginBottom:"5px",fontSize:"15px"},children:t})})),t.arrayDatiScontrini.length<=0&&Object(g.jsx)(j.Text,{style:{marginBottom:"5px",fontSize:"15px"},children:"Nessun scontrino registrato finora:("}),Object(g.jsx)(j.Text,{style:{marginTop:"15px",marginBottom:"10px"},children:"Fatture:- "}),t.arrayDatiFatture.length>0&&t.arrayDatiFatture.map((function(t){return Object(g.jsx)(j.Text,{style:{marginBottom:"5px",fontSize:"15px"},children:t})})),t.arrayDatiFatture.length<=0&&Object(g.jsx)(j.Text,{style:{marginBottom:"5px",fontSize:"15px"},children:"Nessuna fattura registrata finora:("}),Object(g.jsxs)(j.Text,{style:{textAlign:"right"},children:["Totale chiusura:- ",localStorage.getItem("totaleChiusura")+"\u20ac"]})]})})},v=function(t){return Object(g.jsx)("button",{title:"vuoi un pdf dei dati? cliccami!",className:"col-2 offset-2 rounded-start offset-md-4  pdfBtn ",onClick:Object(l.a)(n.a.mark((function e(){var o,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(g.jsx)(N,{arrayDatiScontrini:t.datiScontrini,arrayDatiFatture:t.datiFatture,data:t.data}),(a=Object(j.pdf)([])).updateContainer(o),e.next=5,a.toBlob();case 5:s=e.sent,Object(m.saveAs)(s,"totaleChiusura.pdf");case 7:case"end":return e.stop()}}),e)}))),children:Object(g.jsx)("i",{class:"fas fa-file-pdf fs-5"})})},S=function(t){var e={backgroundColor:"#394047",color:"#f8f9fa"},o={backgroundColor:"#f8f9fa",color:"#394047"},s=Object(a.useState)(""),c=Object(u.a)(s,2),r=c[0],i=c[1],n=Object(a.useState)(o),l=Object(u.a)(n,2),d=l[0],j=l[1],m=Object(a.useState)(o),x=Object(u.a)(m,2),f=x[0],O=x[1],p=Object(a.useState)([]),h=Object(u.a)(p,2),N=h[0],S=(h[1],Object(a.useState)([])),C=Object(u.a)(S,2),y=C[0];C[1];Object(a.useEffect)((function(){for(var t=1;t<localStorage.getItem("numScontrino");t++)N.push(localStorage.getItem("Scontrino-"+t));for(var e=1;e<localStorage.getItem("numFattura");e++)y.push(localStorage.getItem("Fattura-"+e))}),[]);return Object(g.jsx)("div",{className:"overlay pt-3",children:Object(g.jsxs)("div",{className:"modelGestisci p-2 rounded m-2 border",children:[Object(g.jsxs)("div",{className:"row p-2 m-0 border border-top-0 border-start-0 border-end-0",children:[Object(g.jsx)("p",{className:"col h3 p-0",style:{color:"#394047"},children:"Gestisci"}),Object(g.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-end",children:Object(g.jsx)("button",{type:"button",class:"btn-close p-0",onClick:function(){return t.setMostraModel("")}})})]}),Object(g.jsxs)("div",{className:"modelBody aggiungiBody p-4",children:[Object(g.jsxs)("div",{class:"row",children:[Object(g.jsx)("div",{class:"col-3 col-md-2 radioGestisci rounded-start d-flex justify-content-center align-items-center p-2",style:d,onClick:function(){i("Scontrini"),j(e),O(o)},children:Object(g.jsx)("p",{className:"fs-6 m-0",children:"Scontrini"})}),Object(g.jsx)("div",{className:"col-3 col-md-2 radioGestisci rounded-end d-flex justify-content-center align-items-center p-2",style:f,onClick:function(){i("Fatture"),O(e),j(o)},children:Object(g.jsx)("p",{className:"fs-6 m-0",children:"Fatture"})}),Object(g.jsx)(v,{datiScontrini:N,datiFatture:y,data:t.data}),Object(g.jsx)("button",{className:"col-2 emailBtn rounded-end",title:"vuoi ricevere dati per email? cliccami!",onClick:function(){var e=[],o=[];o=y,0===(e=N).length&&(e[0]="Nessun scontrino registrato finora:("),0===o.length&&(o[0]="Nessuna fattura registrata finora:("),b.a.send("service_uop48fo","template_xbgp03e",{from_name:"Registratore di cassa",scontrini:e,Fatture:o,totale:localStorage.getItem("totaleChiusura")+"\u20ac"},"user_JP8CGAZDZCWYOuAsqwi0F"),t.setToastMsg("email mandato con successo!"),t.setToastBgColor("#7FFFD4"),t.setToastTxtColor("#333333"),t.setMostraToast(!0)},children:Object(g.jsx)("i",{class:"fas fa-paper-plane fs-5"})})]}),Object(g.jsxs)("div",{className:"row prodottiContainer mt-4",children:["Scontrini"===r&&Object(g.jsxs)("div",{children:[Number(localStorage.getItem("numScontrino"))>1&&Object(g.jsx)("p",{className:"fs-5",children:"Scontrini registrati: "}),Number(localStorage.getItem("numScontrino"))<=1&&Object(g.jsx)("p",{className:"fs-5",children:"Nessun scontrino registrato finora:( "}),N.map((function(t){return Object(g.jsx)("div",{className:"bg-light rounder m-1 p-2 m-0",children:Object(g.jsx)("div",{className:"col-12 d-flex justify-content-start align-items-center",children:Object(g.jsx)("p",{className:"fs-6 m-0",children:t})})})}))]}),"Fatture"===r&&Object(g.jsxs)("div",{children:[Number(localStorage.getItem("numFattura"))>1&&Object(g.jsx)("p",{className:"fs-5",children:"Fatture registrate: "}),Number(localStorage.getItem("numFattura"))<=1&&Object(g.jsx)("p",{className:"fs-5",children:"Nessuna fattura registrata finora:( "}),y.map((function(t){return Object(g.jsx)("div",{className:"bg-light rounder m-1 d-flex align-items-center p-2 m-0",children:Object(g.jsx)("div",{className:"col-12 d-flex justify-content-start align-items-center",children:Object(g.jsx)("p",{className:"fs-6 m-0",children:t})})})}))]})]})]}),Object(g.jsxs)("div",{className:"row p-2 m-0 border border-bottom-0 border-start-0 border-end-0",children:[Object(g.jsx)("div",{className:"col p-0 d-flex  justify-content-start",children:Object(g.jsxs)("p",{className:"fs-5",children:["totale chiusura: ",localStorage.getItem("totaleChiusura")+"\u20ac"]})}),Object(g.jsxs)("div",{className:"col p-0 d-flex  justify-content-end",children:[Number(localStorage.getItem("totaleChiusura"))>0&&Object(g.jsx)("button",{type:"button",class:"btn btn-danger m-2",onClick:function(){t.setMsgVerifica("Sei sicuro di voler eliminare tutti i scontrini e le fatture?"),t.setBtnTxtVerifica("Elimina Storico"),t.setMostraModelVerifica(!0)},children:"Elimina storico"}),Object(g.jsx)("button",{type:"button",class:"btn btn-secondary m-2",onClick:function(){return t.setMostraModel(" ")},children:"Chiudi"})]})]})]})})},C=function(t){return Object(g.jsx)("div",{className:"overlay pt-3",children:Object(g.jsxs)("div",{className:"modelVerifica p-2 rounded m-2 border",children:[Object(g.jsxs)("div",{className:"row p-2 m-0 border border-top-0 border-start-0 border-end-0",children:[Object(g.jsx)("p",{className:"col h3 p-0",style:{color:"#394047"},children:"Attenzione"}),Object(g.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-end",children:Object(g.jsx)("button",{type:"button",class:"btn-close p-0",onClick:function(){return t.setMostraModelVerifica(!1)}})})]}),Object(g.jsx)("div",{className:"modelBody pt-2 pb-1",children:Object(g.jsx)("div",{className:"row p-4",children:Object(g.jsx)("div",{className:"col-12 d-flex p-0 align-items-center justify-content-start",children:Object(g.jsx)("p",{className:"fs-5 p-0 m-0",children:t.msg})})})}),Object(g.jsx)("div",{className:"row p-2 m-0 border border-bottom-0 border-start-0 border-end-0",children:Object(g.jsxs)("div",{className:"col-12 p-0 d-flex  justify-content-end",children:[Object(g.jsx)("button",{type:"button",class:"btn btn-secondary m-2",onClick:function(){return t.setMostraModelVerifica(!1)},children:"Chiudi"}),Object(g.jsx)("button",{type:"button",class:"btn btn-danger m-2",onClick:function(){if("Sei sicuro di voler eliminare tutti i prodotti aggiunti?"===t.msg)t.setProdottoDaAggiungere([]),t.setTotale(0),t.setNumProdottiAggiunti(0),t.setToastMsg("Prodotti eliminati con successo!"),t.setToastBgColor("#7FFFD4"),t.setToastTxtColor("#333333"),t.setMostraToast(!0);else if("Sei sicuro di voler eliminare tutti i scontrini e le fatture?"===t.msg){for(var e=1;e<localStorage.getItem("numScontrino");e++)localStorage.removeItem("Scontrino-"+e);for(var o=1;o<localStorage.getItem("numFattura");o++)localStorage.removeItem("Fatture-"+o);localStorage.setItem("numScontrino",1),localStorage.setItem("numFattura",1),localStorage.setItem("totaleChiusura",0),t.setToastMsg("Eliminazione Storico effetuato con successo!"),t.setToastBgColor("#7FFFD4"),t.setToastTxtColor("#333333"),t.setMostraToast(!0),t.setMostraModel("")}t.setMostraModelVerifica(!1)},children:t.btnTxt})]})})]})})},y=function(t){var e=Object(a.useState)(localStorage.getItem("urlJson-registratoreDiCassa")),o=Object(u.a)(e,2),s=o[0],c=o[1];return Object(g.jsx)("div",{className:"overlay pt-3",children:Object(g.jsxs)("div",{className:"modelSettings p-2 rounded m-2 border",children:[Object(g.jsxs)("div",{className:"row p-2 m-0 border border-top-0 border-start-0 border-end-0",children:[Object(g.jsx)("p",{className:"col h3 p-0",style:{color:"#394047"},children:"Settings"}),Object(g.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-end",children:Object(g.jsx)("button",{type:"button",class:"btn-close p-0",onClick:function(){return t.setMostraModel("")}})})]}),Object(g.jsx)("div",{className:"modelBody pt-2 pb-1",children:Object(g.jsxs)("div",{className:"row p-4",children:[Object(g.jsx)("div",{className:"col-2 d-flex p-0 align-items-center justify-content-start",children:Object(g.jsx)("p",{className:"fs-5 p-0 m-0",children:"Fetch Url"})}),Object(g.jsx)("input",{type:"text",className:"inputUrl col w-100",value:s,onChange:function(t){c(t.target.value)}})]})}),Object(g.jsx)("div",{className:"row p-2 m-0 border border-bottom-0 border-start-0 border-end-0",children:Object(g.jsxs)("div",{className:"col-12 p-0 d-flex  justify-content-end",children:[Object(g.jsx)("button",{type:"button",class:"btn btn-danger m-2",onClick:function(){return c(t.buildInUrl)},children:"Default settings"}),Object(g.jsx)("button",{type:"button",class:"btn btn-warning m-2",onClick:function(){localStorage.setItem("urlJson-registratoreDiCassa",s),t.controlloUrlFetch(),t.setMostraModel("")},children:"Salva"})]})})]})})},T=function(t){var e=Object(a.useState)(!1),o=Object(u.a)(e,2),s=o[0],c=o[1],i=Object(a.useState)(!1),n=Object(u.a)(i,2),l=n[0],d=n[1];return Object(a.useEffect)((function(){localStorage.getItem("urlJson-registratoreDiCassa")===t.buildInUrl&&c(!0),fetch(localStorage.getItem("urlJson-registratoreDiCassa")).then((function(t){return t.json()})).then((function(e){t.setProdottiDisponibili([]),e.map((function(e){t.setProdottiDisponibili((function(t){return[].concat(Object(r.a)(t),[e])}))}))})).then(d(!0)).catch((function(t){console.log(t),d(!1)}))}),[]),Object(g.jsx)("div",{className:"overlay pt-3",children:Object(g.jsxs)("div",{className:"modelAggiungi p-2 rounded m-2 border",children:[Object(g.jsxs)("div",{className:"row p-2 m-0 border border-top-0 border-start-0 border-end-0",children:[Object(g.jsxs)("p",{className:"col h3 p-0",style:{color:"#394047"},children:["Aggiungi ",l?null:Object(g.jsx)("div",{class:"spinner-grow spinner-grow-sm",role:"status"})]}),Object(g.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-end",children:Object(g.jsx)("button",{type:"button",class:"btn-close p-0",onClick:function(){return t.setMostraModel("")}})})]}),Object(g.jsx)("div",{className:"modelBody aggiungiBody p-4",children:Object(g.jsx)("div",{className:"row prodottiContainer",children:t.prodottiDisponibili.map((function(e,o){return Object(g.jsx)(F,{datiProdotto:e,prodottoImg:s?t.buildInSrcUrl+e.codice_ean+".png":"./img/genericImg.png",setMostraModel:t.setMostraModel,setDatiProdottoCliccato:t.setDatiProdottoCliccato},"divProdotto-"+o)}))})})]})})},F=function(t){var e=Object(a.useState)(0),o=Object(u.a)(e,2),s=o[0],c=o[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),n=i[0],l=i[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),m=j[0],b=j[1];Object(a.useEffect)((function(){void 0===t.datiProdotto.codice_ean?l("img-"+s):l("img-"+t.datiProdotto.codice_ean),void 0===t.datiProdotto.prodotto?b("Prodotto Sconosciuto"):b(t.datiProdotto.prodotto),c(s+1)}),[]);return Object(g.jsx)("div",{className:"col-12 col-sm-6 mt-4 prodottoContainer",children:Object(g.jsxs)("div",{className:"border h-100 prodottoDiv",children:[Object(g.jsx)("img",{className:"img-fluid",src:t.prodottoImg,alt:n,onClick:function(){var e=t.datiProdotto;e.srcImgProdotto=t.prodottoImg,t.setDatiProdottoCliccato(e),t.setMostraModel("modelAggiungiProdotto")}}),Object(g.jsx)("div",{className:"prodottoNome fs-5 p-3 text-light",children:m})]})})},P=function(t){var e=Object(a.useState)(""),o=Object(u.a)(e,2),s=o[0],c=o[1],i=Object(a.useState)(""),n=Object(u.a)(i,2),l=n[0],d=n[1],j=Object(a.useState)(0),m=Object(u.a)(j,2),b=m[0],x=m[1],f=Object(a.useState)(0),O=Object(u.a)(f,2),p=O[0],h=O[1],N=Object(a.useState)(0),v=Object(u.a)(N,2),S=v[0],C=v[1],y=Object(a.useState)(0),T=Object(u.a)(y,2),F=T[0],P=T[1];Object(a.useEffect)((function(){t.datiProdottoCliccato.quantita>0&&P(1),void 0===t.datiProdottoCliccato.prodotto?c("Prodotto Sconosciuto"):c(t.datiProdottoCliccato.prodotto),void 0===t.datiProdottoCliccato.codice_ean?d("?"):d(t.datiProdottoCliccato.codice_ean),void 0===t.datiProdottoCliccato.prezzo_unitario?(x("?"),h("?")):"string"==typeof t.datiProdottoCliccato.prezzo_unitario?(x(t.datiProdottoCliccato.prezzo_unitario.replace(",",".")),h(t.datiProdottoCliccato.prezzo_unitario.replace(",","."))):"number"==typeof t.datiProdottoCliccato.prezzo_unitario?(x(t.datiProdottoCliccato.prezzo_unitario),h(t.datiProdottoCliccato.prezzo_unitario)):(x("?"),h("?")),void 0==t.datiProdottoCliccato.quantita?(C("?"),P("?")):"string"==typeof t.datiProdottoCliccato.quantita||"number"==typeof t.datiProdottoCliccato.quantita?C(parseInt(t.datiProdottoCliccato.quantita)):(C("?"),P("?"))}),[]);return Object(g.jsx)("div",{className:"overlay pt-3",children:Object(g.jsx)("div",{className:"modelAggiungi p-2 rounded m-2 border",children:Object(g.jsxs)("div",{className:"showProdotto rounded",children:[Object(g.jsxs)("div",{className:"row p-2 m-0 border border-top-0 border-start-0 border-end-0",children:[Object(g.jsx)("p",{className:"col h3 p-0",style:{color:"#394047"},children:s}),Object(g.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-end",children:Object(g.jsx)("img",{alt:"backIcon",src:"./img/backIcon.svg",class:"btn-back p-0",onClick:function(){return t.setMostraModel("modelAggiungiProdotti")}})})]}),Object(g.jsx)("div",{className:"modelBody d-flex justify-content-center p-4",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-12  col-md-8",children:Object(g.jsx)("div",{className:"d-flex justify-content-center",children:Object(g.jsx)("img",{className:"img-fluid imgProdottoCliccato",src:t.datiProdottoCliccato.srcImgProdotto,alt:"imgProdottoCliccato"})})}),Object(g.jsx)("div",{className:"col-12 col-md-4",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-6 col-md-12",children:[Object(g.jsx)("p",{className:"h5",children:"Dati:-"}),Object(g.jsxs)("p",{className:"fs-5",children:["Codice ean: ",Object(g.jsx)("span",{className:"fs-6",children:l})]}),Object(g.jsxs)("p",{className:"fs-5",children:["Prezzo: ",Object(g.jsx)("span",{className:"fs-6",children:b+"\u20ac"})]}),Object(g.jsxs)("p",{className:"fs-5",children:["Quantita: ",Object(g.jsx)("span",{className:"fs-6",children:S})]})]}),Object(g.jsxs)("div",{className:"col-5 col-md-12 mt-md-4",children:[Object(g.jsx)("p",{className:"h5",children:"Aquista:-"}),Object(g.jsxs)("p",{className:"fs-5",children:["Quantita:",Object(g.jsxs)("div",{class:"btn-group m-md-2",role:"group","aria-label":"Basic example",children:[Object(g.jsx)("button",{type:"button",class:"btn btn-dark",style:{backgroundColor:"#394047"},onClick:function(){F>1&&(P(F-1),"?"!==b&&h((Number(p)-Number(parseFloat(b))).toFixed(2)))},children:"-"}),Object(g.jsx)("p",{className:"d-flex align-items-center m-1 fs-6",children:F}),Object(g.jsx)("button",{type:"button",class:"btn btn-dark",style:{backgroundColor:"#394047"},onClick:function(){F<t.datiProdottoCliccato.quantita&&(P(F+1),"?"!==b&&h((Number(p)+Number(parseFloat(b))).toFixed(2)))},children:"+"})]})]}),Object(g.jsxs)("p",{className:"fs-5",children:["Prezzo Totale: ",Object(g.jsx)("span",{className:"fs-6",children:p+"\u20ac"})]}),Object(g.jsx)("button",{className:"btn btn-warning p-2 mt-3",onClick:function(){var e={nomeProdotto:s,codiceProdotto:l,prezzoFinale:p,quantitaFinale:F};t.setProdottoDaAggiungere((function(t){return[].concat(Object(r.a)(t),[e])})),t.setNumProdottiAggiunti(t.numProdottiAggiunti+1),console.log(p),"?"!==p&&t.setTotale((Number(t.totale)+Number(p)).toFixed(2)),t.setMostraModel("")},children:"Aquista Ora"})]})]})})]})})]})})})},M=function(t){var e=Object(a.useState)({display:"none"}),o=Object(u.a)(e,2),s=o[0],c=o[1];return Object(g.jsxs)("div",{className:"divTabellaRiga rigaDati fs-6",onMouseEnter:function(){return c({display:"block"})},onMouseLeave:function(){return c({display:"none"})},children:[Object(g.jsx)("div",{className:"divTabellaColonna",children:t.prod}),Object(g.jsx)("div",{className:"divTabellaColonna",children:t.codE}),Object(g.jsx)("div",{className:"divTabellaColonna",children:t.prez+"\u20ac"}),Object(g.jsx)("div",{className:"divTabellaColonna",children:t.quan}),Object(g.jsx)("div",{className:"trashDiv",onClick:function(e){var o=e.target.getAttribute("data-i");t.prodottoDaAggiungere.splice(o,1),"?"!==t.prez&&t.setTotale((Number(t.totale)-Number(t.prez)).toFixed(2)),t.setNumProdottiAggiunti(Number(t.numProdottiAggiunti)-Number(1))},style:s,children:Object(g.jsx)("i",{className:"far fa-trash-alt","data-i":t.idx})})]})};c.a.render(Object(g.jsx)(x,{}),document.getElementById("root"))}},[[546,1,2]]]);
//# sourceMappingURL=main.618a3f33.chunk.js.map